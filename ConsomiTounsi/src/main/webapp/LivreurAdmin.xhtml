<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/TemplateAdmin/template.xhtml">
	<ui:define name="LivreurAdmin">
		<h:head>
			<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
			<title>Tables - Ace Admin</title>
			<meta name="description" content="Static &amp; Dynamic Tables" />
			<meta name="viewport"
				content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
			<script src="dash/js/ace-extra.min.js"></script>
			<script type='text/javascript'
				src='https://code.jquery.com/jquery-3.3.1.min.js' />
			<script src='dash/js/jquery-3.5.js'></script>
		</h:head>
		<h:body>
			<h:form>
				<div class="row">
					<div class="col-xs-12">
						<!-- PAGE CONTENT BEGINS -->
						<div class="row">
							<div class="col-xs-12">
								<table id="simple-table"
									class="table  table-bordered table-hover">
									<thead>
										<tr>
											<th class="center"><label class="pos-rel"> <input
													type="checkbox" class="ace" /> <span class="lbl"></span>
											</label></th>
											<th class="detail-col">Details</th>
											<th>LastName</th>
											<th>Name</th>
											<th class="hidden-480">Username</th>

											<th><i
												class="ace-icon fa fa-clock-o bigger-110 hidden-480"></i>
												Date</th>
											<th>Adress</th>
											<th>Email</th>
											<th class="hidden-480">Mobile</th>
											<th class="hidden-480">State</th>
											<th>Action</th>

										</tr>
									</thead>

									<tbody>
										<ui:repeat var="liv"
											value="#{LivreurAdminController.getAllliv()}"
											varStatus="status">
											<tr>
												<td class="center"><label class="pos-rel"> <input
														type="checkbox" class="ace" /> <span class="lbl"></span>
												</label></td>

												<td class="center">
													<div class="action-buttons">
														<a href="#" class="green bigger-140 show-details-btn"
															title="Show Details"> <i
															class="ace-icon fa fa-angle-double-down"></i> <span
															class="sr-only">Details</span>
														</a>
													</div>
												</td>


												<td><h:outputText value="#{liv.lastName}" /></td>
												<td class="hidden-480"><h:outputText
														value="#{liv.firstName}" /></td>
												<td><h:outputText value="#{liv.username}" /></td>

												<td class="hidden-480"><span
													class="label label-sm label-warning"><h:outputText
															value="#{liv.dateN}" /></span></td>
												<td><h:outputText value="#{liv.address}" /></td>

												<td><h:outputText value="#{liv.email}" /></td>
												<td><h:outputText value="#{liv.telephone}" /></td>
												

												<td>
													<div>
														<div class="hidden-sm hidden-xs btn-group">
															<h:commandButton class="btn btn-xs btn-success"
															 
																value="Accept"
																action="#{LivreurAdminController.accepterliv(liv.id)}">
															

															</h:commandButton>
															<h:commandButton class="btn btn-xs btn-danger"
																value="Delete"
																action="#{LivreurAdminController.supprimerliv(liv.id)}">
															

															</h:commandButton>
															<h:commandButton class="btn btn-xs btn-warning"
																value="Reject"
																action="#{LivreurAdminController.refuserliv(liv.id)}">
																

															</h:commandButton>
														</div>
							
															
														
													</div> <!-- 													<button class="btn btn-xs btn-danger"> -->
													<!-- 														<i class="ace-icon fa fa-trash-o bigger-120"></i> -->
													<!-- 													</button> --> <!-- 												</div> -->

												</td>


											</tr>
										</ui:repeat>
									</tbody>
								</table>
							</div>
							<!-- /.span -->
						</div>
						<!-- /.row -->
					</div>
				</div>
			</h:form>


			<script src="../dash/js/bootstrap.min.js"></script>
			<script src="../dash/js/jquery.min.map"></script>

			<!-- page specific plugin scripts -->
			<script src="../dash/js/jquery.dataTables.min.js"></script>
			<script src="../dash/js/jquery.dataTables.bootstrap.min.js"></script>
			<script src="../dash/js/dataTables.buttons.min.js"></script>
			<script src="../dash/js/buttons.flash.min.js"></script>
			<script src="../dash/js/buttons.html5.min.js"></script>
			<script src="../dash/js/buttons.print.min.js"></script>
			<script src="../dash/js/buttons.colVis.min.js"></script>
			<script src="../dash/js/dataTables.select.min.js"></script>

			<!-- ace scripts -->
			<script src="../dash/js/ace-elements.min.js"></script>
			<script src="../dash/js/ace.min.js"></script>

			<script type="text/javascript">
			jQuery(function($) {
				//initiate dataTables plugin
				var myTable = $('#dynamic-table')
				//.wrap("<div class='dataTables_borderWrap' />")   //if you are applying horizontal scrolling (sScrollX)
				.DataTable({
					bAutoWidth : false,
					"aoColumns" : [ {
						"bSortable" : false
					}, null, null, null, null, null, {
						"bSortable" : false
					} ],
					"aaSorting" : [],

					//"bProcessing": true,
					//"bServerSide": true,
					//"sAjaxSource": "http://127.0.0.1/table.php"	,

					//,
					//"sScrollY": "200px",
					//"bPaginate": false,

					//"sScrollX": "100%",
					//"sScrollXInner": "120%",
					//"bScrollCollapse": true,
					//Note: if you are applying horizontal scrolling (sScrollX) on a ".table-bordered"
					//you may want to wrap the table inside a "div.dataTables_borderWrap" element

					//"iDisplayLength": 50

					select : {
						style : 'multi'
					}
				});

				$.fn.dataTable.Buttons.defaults.dom.container.className = 'dt-buttons btn-overlap btn-group btn-overlap';

				new $.fn.dataTable.Buttons(
						myTable,
						{
							buttons : [
									{
										"extend" : "colvis",
										"text" : "<i class='fa fa-search bigger-110 blue'></i> <span class='hidden'>Show/hide columns</span>",
										"className" : "btn btn-white btn-primary btn-bold",
										columns : ':not(:first):not(:last)'
									},
									{
										"extend" : "copy",
										"text" : "<i class='fa fa-copy bigger-110 pink'></i> <span class='hidden'>Copy to clipboard</span>",
										"className" : "btn btn-white btn-primary btn-bold"
									},
									{
										"extend" : "csv",
										"text" : "<i class='fa fa-database bigger-110 orange'></i> <span class='hidden'>Export to CSV</span>",
										"className" : "btn btn-white btn-primary btn-bold"
									},
									{
										"extend" : "excel",
										"text" : "<i class='fa fa-file-excel-o bigger-110 green'></i> <span class='hidden'>Export to Excel</span>",
										"className" : "btn btn-white btn-primary btn-bold"
									},
									{
										"extend" : "pdf",
										"text" : "<i class='fa fa-file-pdf-o bigger-110 red'></i> <span class='hidden'>Export to PDF</span>",
										"className" : "btn btn-white btn-primary btn-bold"
									},
									{
										"extend" : "print",
										"text" : "<i class='fa fa-print bigger-110 grey'></i> <span class='hidden'>Print</span>",
										"className" : "btn btn-white btn-primary btn-bold",
										autoPrint : false,
										message : 'This print was produced using the Print button for DataTables'
									} ]
						});
				myTable.buttons().container().appendTo(
						$('.tableTools-container'));

				//style the message box
				var defaultCopyAction = myTable.button(1).action();
				myTable
						.button(1)
						.action(
								function(e, dt, button, config) {
									defaultCopyAction(e, dt, button, config);
									$('.dt-button-info')
											.addClass(
													'gritter-item-wrapper gritter-info gritter-center white');
								});

				var defaultColvisAction = myTable.button(0).action();
				myTable
						.button(0)
						.action(
								function(e, dt, button, config) {

									defaultColvisAction(e, dt, button, config);

									if ($('.dt-button-collection > .dropdown-menu').length == 0) {
										$('.dt-button-collection')
												.wrapInner(
														'<ul class="dropdown-menu dropdown-light dropdown-caret dropdown-caret" />')
												.find('a').attr('href', '#')
												.wrap("<li />")
									}
									$('.dt-button-collection')
											.appendTo(
													'.tableTools-container .dt-buttons')
								});

				////

				setTimeout(function() {
					$($('.tableTools-container')).find('a.dt-button').each(
							function() {
								var div = $(this).find(' > div').first();
								if (div.length == 1)
									div.tooltip({
										container : 'body',
										title : div.parent().text()
									});
								else
									$(this).tooltip({
										container : 'body',
										title : $(this).text()
									});
							});
				}, 500);

				myTable.on('select', function(e, dt, type, index) {
					if (type === 'row') {
						$(myTable.row(index).node()).find('input:checkbox')
								.prop('checked', true);
					}
				});
				myTable.on('deselect', function(e, dt, type, index) {
					if (type === 'row') {
						$(myTable.row(index).node()).find('input:checkbox')
								.prop('checked', false);
					}
				});

				/////////////////////////////////
				//table checkboxes
				$('th input[type=checkbox], td input[type=checkbox]').prop(
						'checked', false);

				//select/deselect all rows according to table header checkbox
				$(
						'#dynamic-table > thead > tr > th input[type=checkbox], #dynamic-table_wrapper input[type=checkbox]')
						.eq(0)
						.on(
								'click',
								function() {
									var th_checked = this.checked;//checkbox inside "TH" table header

									$('#dynamic-table')
											.find('tbody > tr')
											.each(
													function() {
														var row = this;
														if (th_checked)
															myTable.row(row)
																	.select();
														else
															myTable.row(row)
																	.deselect();
													});
								});

				//select/deselect a row when the checkbox is checked/unchecked
				$('#dynamic-table').on('click', 'td input[type=checkbox]',
						function() {
							var row = $(this).closest('tr').get(0);
							if (this.checked)
								myTable.row(row).deselect();
							else
								myTable.row(row).select();
						});

				$(document).on('click', '#dynamic-table .dropdown-toggle',
						function(e) {
							e.stopImmediatePropagation();
							e.stopPropagation();
							e.preventDefault();
						});

				//And for the first simple table, which doesn't have TableTools or dataTables
				//select/deselect all rows according to table header checkbox
				var active_class = 'active';
				$('#simple-table > thead > tr > th input[type=checkbox]')
						.eq(0)
						.on(
								'click',
								function() {
									var th_checked = this.checked;//checkbox inside "TH" table header

									$(this)
											.closest('table')
											.find('tbody > tr')
											.each(
													function() {
														var row = this;
														if (th_checked)
															$(row)
																	.addClass(
																			active_class)
																	.find(
																			'input[type=checkbox]')
																	.eq(0)
																	.prop(
																			'checked',
																			true);
														else
															$(row)
																	.removeClass(
																			active_class)
																	.find(
																			'input[type=checkbox]')
																	.eq(0)
																	.prop(
																			'checked',
																			false);
													});
								});

				//select/deselect a row when the checkbox is checked/unchecked
				$('#simple-table').on('click', 'td input[type=checkbox]',
						function() {
							var $row = $(this).closest('tr');
							if ($row.is('.detail-row '))
								return;
							if (this.checked)
								$row.addClass(active_class);
							else
								$row.removeClass(active_class);
						});

				/********************************/
				//add tooltip for small view action buttons in dropdown menu
				$('[data-rel="tooltip"]').tooltip({
					placement : tooltip_placement
				});

				//tooltip placement on right or left
				function tooltip_placement(context, source) {
					var $source = $(source);
					var $parent = $source.closest('table')
					var off1 = $parent.offset();
					var w1 = $parent.width();

					var off2 = $source.offset();
				

					if (parseInt(off2.left) &lt; parseInt(off1.left)
							+ parseInt(w1 / 2))
						return 'right';
					return 'left';
				}

				/***************/
				$('.show-details-btn').on(
						'click',
						function(e) {
							e.preventDefault();
							$(this).closest('tr').next().toggleClass('open');
							$(this).find(ace.vars['.icon']).toggleClass(
									'fa-angle-double-down').toggleClass(
									'fa-angle-double-up');
						});
				/***************/

				/**
				//add horizontal scrollbars to a simple table
				$('#simple-table').css({'width':'2000px', 'max-width': 'none'}).wrap('<div style="width: 1000px;" />').parent().ace_scroll(
				  {
					horizontal: true,
					styleClass: 'scroll-top scroll-dark scroll-visible',//show the scrollbars on top(default is bottom)
					size: 2000,
					mouseWheelLock: true
				  }
				).css('padding-top', '12px');
				 */

			})
		</script>


		</h:body>

	</ui:define>
</ui:composition>
